
## Развертывание NFS  службы и настройка firewalld

[![Build Status](https://travis-ci.org/joemccann/dillinger.svg?branch=master)](https://travis-ci.org/joemccann/dillinger)

##### Конечно поменять на свой inventory.yml файл
Заменить в файле /nfs/roles/default/main.yml 
 - share - указать свой путь папки которую шарите
 - ip - указать с каких ip можно получить доступ


#### Поправить файл exports.j2
###### Описание файла exports.j2
###### Файл необходим для конфигурации Шары
``` {{ share }} {{ ip }}(rw,sync,no_root_squash,no_all_squash) ```
```{{ share }}``` - указание пути в локальной системе которую шарим
```{{ ip }}``` - для каких IP инициаторов разрешен доступ, указание * разрешает доступ всем
```rw``` - доступ на чтение и запись (может принимать значение ro-только чтение)
```sync``` - синхронный режим доступа(может принимать обратное значение- async). sync (async) - указывает, что сервер должен отвечать на запросы только после записи на диск изменений, выполненных этими запросами. Опция async указывает серверу не ждать записи информации на диск, что повышает производительность, но понижает надежность, т.к. в случае обрыва соединения или отказа оборудования возможна потеря данных
```no_root_squash``` - запрет подмены uid/gid для суперпользователя (root). По умолчанию пользователь root на клиентской машине не будет иметь доступа к разделяемой директории сервера. Этой опцией мы снимаем это ограничение. В целях безопасности этого лучше не делать
```no_all_squash``` - или ```no_all_squash``` - установка подмены идентификатора от всех пользователей all_squash - подмена запросов от ВСЕХ пользователей (не только root) на анонимного uid/gid, либо на пользователя, заданного в параметре anonuid/anongid. Используется обычно для публичного экспорта директорий. no_all_squash - запрет подмены uid/gid для от всех пользователей


> P.S.: Для подключение NFS шары на windows, необходиму установить поддержку nfs client, затем подключить шару:
```mount -o anon \\IP\Путь_указанный_в_{{ share }} T:```
Отключение всех дисков 
```umount -f -f```
